window.m=window.m||{},define(["jquery","carousel","knockout","knockoututils","json2.min","bootstrap","mobilebase","jqueryfinger"],function(e,t,o){function n(){var t=this,n="market://details?id=kr.imgtech.zoneplayer",a=n;t.myLecture={loginNow:!1,itemList:o.observableArray(),tbList:o.observableArray(),init:function(){return e(".phead a").addClass("collapsed"),e(".subjecttitle a").addClass("collapsed"),m.mb_id?(e("#login_error").on("hide.bs.modal",function(e){console.log(e),t.myLecture.loginNow===!1&&m.viewSlider.prev(),t.myLecture.loginNow=!1}),void 0):(e("#login_error").modal("show"),t.myLecture.showModalBackground(),!1)},setData:function(o){this.itemList.removeAll(),e.map(o,function(e){t.myLecture.itemList.push(e)}),t.myLecture.init()},setTbData:function(o){this.tbList.removeAll(),e.map(o,function(e){t.myLecture.tbList.push(e)})},load:function(){e.getJSON("/mobile/mb/mypage_lecture.php",{mb_id:m.mb_id},function(e){console.log(e),t.myLecture.setData(e),t.myLecture.loadContentData(0,0)})},loadContentData:function(o,n){console.log(o+","+n),t.showLoadingModal(),e.getJSON("/mobile/mb/tbcontentlist.php",{tb_id:o,it_id:n},function(e){console.log(e),t.myLecture.setTbData(e),t.hideLoadingModal()})},showByParam:function(e){e.bbsId?(t.myLecture.loadContentData(e.bbsId,e.subId),m.viewSlider.left("#view_lectureContentList")):this.show()},show:function(){t.myLecture.load(),m.viewSlider.left("#view_lectureContent")},show4dep:function(o,n){var a=m.parseParam(e(n.currentTarget).attr("href"));t.myLecture.loadContentData(o.tb_id,a.bbsId),m.viewSlider.left("#view_lectureContentList")},hide4dep:function(){},showMessage:function(o){event.bubbles===!0&&(t.myLecture.showModalBackground(),e("#message_layer p").remove(),e("#message_layer").append("<p>"+o+"</p>"),e("#message_layer").fadeIn(),e("#message_layer").css({"box-shadow":"5px 5px 10px #333"}))},hideMessage:function(){e("#message_layer").fadeOut(),t.myLecture.hideModalBackground(),e("#message_layer").css({"box-shadow":"none"})},showModalBackground:function(){},hideModalBackground:function(){},set_ad_app:function(){var e=confirm("Zone@Player 앱을 설치하거나\n업데이트하시면\n이용할 수 있습니다.\n설치 하시겠습니까?");e&&(location.href=a)},startZonePlayer:function(e){event.bubbles===!0&&(document.appframe.location=e,setTimeout(t.myLecture.callback(),500))},callback:function(){try{var e=document.appframe.document.body,t=document.getElementById("applinkDiv");t.innerHTML="Installed!<p>"+e}catch(o){if(confirm("앱이 설치 되어 있지 않습니다.\n\n앱을 설치하시겠습니까?\n\n이미 설치하신경우 새로고침 해주세요!"))return alert("설치후 반드시 새로고침을 해주세요."),location.href=a,!1}},executeApp:function(t){event.bubbles===!0&&e(location).attr("href",t)}}}n.prototype=new m.BaseViewModel,n.prototype.constructor=n,m.MyLectureModel=n});