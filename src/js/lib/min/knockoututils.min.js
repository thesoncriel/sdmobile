define(["jquery","knockout"],function(e,n){n.bindingHandlers.modal={init:function(t,i){var r=i();return e(t).modal({show:!1}).on("hidden",function(){n.isWriteableObservable(r)&&r(null)}),n.bindingHandlers["with"].init.apply(this,arguments)},update:function(t,i){var r=n.utils.unwrapObservable(i());return e(t).modal(r?"show":"hide"),n.utils.unwrapObservable(i())?(e(t).modal("show"),e("input",t).focus(),n.bindingHandlers["with"].update.apply(this,arguments)):(e(t).modal("hide"),i()(!1),void 0)}},n.extenders.logChange=function(e,n){return e.subscribe(function(e){console.log(n+": "+e)}),e},n.bindingHandlers.sort={init:function(e,n){var t=!1;e.style.cursor="pointer",e.onclick=function(){var e=n(),i=e.prop,r=e.arr;t=!t,t?r.sort(function(e,n){return e[i]()==n[i]()?0:e[i]()<n[i]()?-1:1}):r.sort(function(e,n){return e[i]()==n[i]()?0:e[i]()>n[i]()?-1:1})}}},n.bindingHandlers.numeric={init:function(n){e(n).on("keydown",function(e){46==e.keyCode||8==e.keyCode||9==e.keyCode||27==e.keyCode||13==e.keyCode||65==e.keyCode&&e.ctrlKey===!0||188==e.keyCode||190==e.keyCode||110==e.keyCode||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||(e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105))&&e.preventDefault()})}};var t=function(e){return{has:function(n){return"valueUpdate"==n||e.has(n)},get:function(n){var t=e.get(n);return"valueUpdate"==n&&(t=t?[].concat(t,"afterkeydown"):"afterkeydown"),t}}},i=n.bindingHandlers.value.init;n.bindingHandlers.value.init=function(e,n,r,o,a){return i(e,n,t(r),o,a)},n.bindingHandlers.logger={update:function(e,t,i){var r=n.utils.domData.get(e,"_ko_logger")||0,o=n.toJS(t()||i());n.utils.domData.set(e,"_ko_logger",++r),console&&console.log&&console.log(r,e,o)}};var r=n.bindingProvider.instance;n.bindingProvider.instance={nodeHasBindings:r.nodeHasBindings,getBindings:function(e,n){var t;try{t=r.getBindings(e,n)}catch(i){console&&console.log?console.log("바인딩 에러 ",i.message,e,n):alert("구버전 브라우저는 지원되지 않습니다. 크롬 설치/사용을 권장합니다.")}return t}},n.subscribable.fn.logIt=function(e){return this.triggeredCount=0,this.subscribe(function(n){console&&console.log&&console.log(++this.triggeredCount,e+" triggered with new value",n)},this),this},e(function(){return n.bindingHandlers.executeOnEnter={init:function(n,t,i,r){var o;return o=void 0,o=t(),e(n).keypress(function(e){var n;return n=void 0,n=e.which?e.which:e.keyCode,13===n?(o.call(r),!1):!0})}}}),n.bindingHandlers.maskedInput={init:function(e,t,i,r,o){n.bindingHandlers.value.init(e,t,i,r,o)},update:function(t,i,r,o,a){n.bindingHandlers.value.update(t,i,r,o,a),e(t).mask(r.get("mask")),i()(e(t).val())}},e.tryParseInt=function(n,t){var i="";return"string"==typeof n?(i=n.replace(/^0*/,""),t?e.isNumeric(i)?parseInt(i):t:e.isNumeric(i)?parseInt(i):0):"number"==typeof n?parseInt(n):t?e.isNumeric(n)?parseInt(n):t:e.isNumeric(n)?parseInt(n):0},e.addDate=function(n,t){var i=null;return i=n instanceof Date?n:new Date(n),i.setDate(i.getDate()+t),e.dateFormat(i)},e.dateFormat=function(e,n){if(n=n||"-",e instanceof Date){var t=e.getMonth()+1,i=e.getDate();return e.getFullYear()+n+(10>t?"0"+t:t)+n+(10>i?"0"+i:i)}return e.substring(0,4)+n+e.substring(4,6)+n+e.substring(6,8)},e.formatDate=e.dateFormat,e.formatLen=function(e){return e=(""+e).length<2?"0"+e:e},e.dateDiff=function(e,n){return Math.ceil((new Date(n).getTime()-new Date(e).getTime())/864e5)}});